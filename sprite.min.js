var is_playing_err=new Error("Animation is already playing. Please stop current animation.");var is_not_playing_err=new Error("Cannot stop this animation because it's not running");var is_too_high=new Error('Not enough frames. Please enter lower amount in "to" parameter');var is_too_little=new Error('Please enter higher "from" parameter');function Sprite(b){var j=0,l=-1,h=null,c,u,s,t,g,o,d,p,f,a,r;var i={};this.canvas=document.getElementById(b.id);this.canvas.width=b.width;f=b.err;this.canvas.height=b.height;var m=this.ctx=this.canvas.getContext("2d");var v=this.img=new Image();this.img.src=b.src;m.drawImage(this.img,j*b.width,0,b.width,b.height,0,0,b.width,b.height);var k=this.frames=b.image_width?(b.image_width/b.width):console.log("err");var e=false;var n=function(y,w){t=requestAnimationFrame(n.bind(null,y));if(h===null){h=w}var x=Math.floor((w-h)/u);if(x>l){if(j==k-1){p++}l=x;m.clearRect(0,0,b.width,b.height);m.drawImage(v,j*b.width,0,b.width,b.height,0,0,b.width,b.height);if(s=="backward"){if(j<=0){j=k}j-=1}else{if(j>=k-1){j=0}else{j++}}}if(typeof y!=="undefined"&&y>0){if(p==y&&j==1&&s!=="backward"){e=false;r=false;cancelAnimationFrame(t)}if(p==y&&j==k-1&&s=="backward"){e=false;r=false;cancelAnimationFrame(t)}}};var q=function(x,z,w,y){g=requestAnimationFrame(q.bind(null,x,z,w));if(h===null){h=y}var A=Math.floor((y-h)/u);if(A>l){l=A;if(p>=w&&j==a&&w!==0){cancelAnimationFrame(g);e=false;r=false}m.clearRect(0,0,b.width,b.height);m.drawImage(v,j*b.width,0,b.width,b.height,0,0,b.width,b.height);if(x>z){if(j>=x){j=z}else{j++}a=x;if(j==x){p++}}else{if(z>x){if(j<=x){j=z}else{j--}a=x;if(j==z){p++}}}}};this.loop=function(w,x,y){if(e&&f){throw is_playing_err}c=w;if(typeof w==="undefined"||w===null){c=60}s=x;u=1000/c;if(typeof y!=="undefined"||y===null){p=0}t=requestAnimationFrame(n.bind(null,y));e=true;return};this.play=function(x,z,y,w){if(e&&f){throw is_playing_err}if(y>k&&f){throw is_too_high}if(z<1&&f){throw is_too_little}if(r==="undefined"||!r||p!==p||p==="undefined"){if(y>z){p=0}if(z>y){p=1}}c=x;j=z-1;z--;y--;if(typeof x==="undefined"||x===null){c=60}if(typeof z==="undefined"||z===null){z=0}if(typeof y==="undefined"||y===null){y=k-1}if(typeof w==="undefined"||w===null){w=1}e=true;u=1000/c;g=requestAnimationFrame(q.bind(null,y,z,w))};this.frame=function(){return j+1};this.pause=function(){if(!e&&f){throw is_not_playing_err}e=false;r=true;cancelAnimationFrame(t);cancelAnimationFrame(g);l=-1};this.render=function(w){w--;j=w;m.clearRect(0,0,b.width,b.height);m.drawImage(v,w*b.width,0,b.width,b.height,0,0,b.width,b.height)};this.reset=function(w){j=0;cancelAnimationFrame(t);cancelAnimationFrame(g);if(typeof w!=="undefined"){j=w}l=-1;e=false;m.clearRect(0,0,b.width,b.height);m.drawImage(v,j*b.width,0,b.width,b.height,0,0,b.width,b.height)}};