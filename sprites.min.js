'use strict';function Sprite(a){var b=document.getElementById(a.id),c=b.width=a.width,d=b.height=a.height,f=b.getContext('2d'),g=new Image,h=-1,i=null,j=!1,k=a.err,l=a.image_width?a.image_width/c:function(){throw p}(),m=new Error('Animation is already playing'),o=new RangeError('Parameter must be between 1 and '+l),p=new Error('Missing property'),q,r,s,t;g.src=a.src,f.drawImage(g,0*c,0,c,d,0,0,c,d),this.play=function(v){if(j)return void(k&&console.error(m));if(v.to>l||1>v.to)return void(k&&console.error(o));if(1>v.from||v.from>l)return void(k&&console.error(o));null==v.fps&&(v.fps=60),null==v.from&&(v.from=1),null==v.to&&(v.to=l),null==v.n&&(v.n=1),null==t&&(t=v.from-1),null!=s&&s&&r==r&&null!=r||(v.to>v.from&&(r=0),v.from>v.to&&(r=1));var w=1e3/v.fps;v.from--,v.to--,j=!0,q=requestAnimationFrame(u.bind(null,v.from,v.to,v.n,w,v.step,v.loop))},this.pause=function(){if(!j)return void(k&&console.error(m));cancelAnimationFrame(q),j=!1,s=!0,h=-1},this.reset=function(v){null==v&&(v=0),cancelAnimationFrame(q),j=!1,h=-1,t=v-1,f.clearRect(0,0,c,d),f.drawImage(g,--v*c,0,c,d,0,0,c,d)},this.frame=function(){return t+1};var u=function(v,w,z,A,B,C,D){q=requestAnimationFrame(u.bind(null,v,w,z,A,B,C)),null==i&&(i=D);var E=Math.floor((D-i)/A);E>h&&(h=E,r>=z&&t==w&&0!==z&&(cancelAnimationFrame(q),j=!1,s=!1),f.clearRect(0,0,c,d),f.drawImage(g,t*c,0,c,d,0,0,c,d),w>v?(t>=w?('function'==typeof B&&B(t+1),t=v):('function'==typeof B&&B(t+1),t++),t==w&&('function'==typeof C&&C(r),r++)):v>w&&(t<=w?('function'==typeof B&&B(t+1),t=v):('function'==typeof B&&B(t+1),t--),t==v&&('function'==typeof C&&C(r),r++)))}}